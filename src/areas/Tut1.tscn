[gd_scene load_steps=14 format=3 uid="uid://tla5m1ef6mxr"]

[ext_resource type="Script" path="res://src/teleportation/Panorama.gd" id="1_5phwg"]
[ext_resource type="SphereMesh" uid="uid://bp34u6v5tss3w" path="res://src/teleportation/PanoramaSphereMeshBase.tres" id="2_60yyl"]
[ext_resource type="PackedScene" uid="uid://5iqynxjjb1jk" path="res://src/teleportation/Teleporter.tscn" id="3_k00kl"]
[ext_resource type="Script" path="res://src/ois/feedback_components/enable_teleporter.gd" id="5_stniy"]
[ext_resource type="PackedScene" uid="uid://yj8qo4f7g65m" path="res://src/ois/xx_demo_objects/lock.tscn" id="5_xhnxd"]
[ext_resource type="Script" path="res://src/ois/feedback_components/play_animation.gd" id="6_246wt"]
[ext_resource type="PackedScene" uid="uid://dn6d5anddqwb4" path="res://src/ois/xx_demo_objects/key_inventory.tscn" id="6_hb4cl"]
[ext_resource type="PackedScene" uid="uid://b5fxbmw5m37nf" path="res://src/inventory/shelf.tscn" id="8_iqxt2"]
[ext_resource type="PackedScene" uid="uid://beicqyim7cqbn" path="res://src/ems/scenes/marble.tscn" id="9_7nyy2"]

[sub_resource type="CylinderMesh" id="CylinderMesh_6okml"]
top_radius = 0.03
bottom_radius = 0.03
height = 1.0

[sub_resource type="Animation" id="Animation_thr14"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("GateDoor:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("GateDoor:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.494336, -0.817238, -1.17075)]
}

[sub_resource type="Animation" id="Animation_dhex3"]
resource_name = "open"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("GateDoor:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, -1.31306, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("GateDoor:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(-0.494336, -0.817238, -1.17075), Vector3(-0.55578, -0.817238, -1.17075)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_6kh8m"]
_data = {
"RESET": SubResource("Animation_thr14"),
"open": SubResource("Animation_dhex3")
}

[node name="tut1" type="Node3D"]
transform = Transform3D(0.999987, 0, 0, 0, 1, 0, 0, 0, 0.999987, 0, 0, 0)
top_level = true
script = ExtResource("1_5phwg")
teleporters_data = [{
"position": Vector3(-0.311836, -0.609235, -4.44754),
"to": "Tut2"
}]
image_filename = "res://src/areas/Tut1.jpg"
base_rotation = 0.13

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0, 0, 0)
gi_mode = 0
mesh = ExtResource("2_60yyl")
skeleton = NodePath("../../..")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
light_energy = 3.015
omni_range = 16.12

[node name="Teleporters" type="Node3D" parent="."]

[node name="Tut2" parent="Teleporters" instance=ExtResource("3_k00kl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.311836, -0.609235, -4.44754)
enabled = false
to = "Tut2"

[node name="GateDoor" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.494336, -0.817238, -1.17075)

[node name="Bar" type="MeshInstance3D" parent="GateDoor"]
mesh = SubResource("CylinderMesh_6okml")
skeleton = NodePath("../..")

[node name="Bar2" type="MeshInstance3D" parent="GateDoor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.242706, 0, 0)
mesh = SubResource("CylinderMesh_6okml")
skeleton = NodePath("../..")

[node name="Bar3" type="MeshInstance3D" parent="GateDoor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.514255, 0, 0)
mesh = SubResource("CylinderMesh_6okml")
skeleton = NodePath("../..")

[node name="Bar4" type="MeshInstance3D" parent="GateDoor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.756961, 0, 0)
mesh = SubResource("CylinderMesh_6okml")
skeleton = NodePath("../..")

[node name="Bar5" type="MeshInstance3D" parent="GateDoor"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0.379009, 0.496263, 0)
mesh = SubResource("CylinderMesh_6okml")

[node name="Bar6" type="MeshInstance3D" parent="GateDoor"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0.379009, -0.517872, 0)
mesh = SubResource("CylinderMesh_6okml")

[node name="ReceiverObject" parent="GateDoor" groups=["key"] instance=ExtResource("5_xhnxd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.678218, 0.023062, 0.000329588)
requirement = 2.0

[node name="EnableTeleporter" type="Node3D" parent="GateDoor/ReceiverObject" node_paths=PackedStringArray("teleporter")]
script = ExtResource("5_stniy")
teleporter = NodePath("../../../Teleporters/Tut2")

[node name="PlayAnimation" type="Node3D" parent="GateDoor/ReceiverObject" node_paths=PackedStringArray("animation_player")]
script = ExtResource("6_246wt")
animation_player = NodePath("../../../AnimationPlayer")
animation_name = "open"

[node name="GatePanel" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.40599, -0.817238, -1.17075)

[node name="Bar" type="MeshInstance3D" parent="GatePanel"]
mesh = SubResource("CylinderMesh_6okml")
skeleton = NodePath("../..")

[node name="Bar2" type="MeshInstance3D" parent="GatePanel"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.242706, 0, 0)
mesh = SubResource("CylinderMesh_6okml")
skeleton = NodePath("../..")

[node name="Bar3" type="MeshInstance3D" parent="GatePanel"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.514255, 0, 0)
mesh = SubResource("CylinderMesh_6okml")
skeleton = NodePath("../..")

[node name="Bar4" type="MeshInstance3D" parent="GatePanel"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.756961, 0, 0)
mesh = SubResource("CylinderMesh_6okml")
skeleton = NodePath("../..")

[node name="Bar5" type="MeshInstance3D" parent="GatePanel"]
transform = Transform3D(-4.37114e-08, -0.8, 0, 1, -3.49691e-08, 0, 0, 0, 1, 0.379009, 0.496263, 0)
mesh = SubResource("CylinderMesh_6okml")

[node name="Bar6" type="MeshInstance3D" parent="GatePanel"]
transform = Transform3D(-4.37114e-08, -0.8, 0, 1, -3.49691e-08, 0, 0, 0, 1, 0.379009, -0.517872, 0)
mesh = SubResource("CylinderMesh_6okml")

[node name="GatePanel2" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.40904, -0.817238, -1.17075)

[node name="Bar" type="MeshInstance3D" parent="GatePanel2"]
mesh = SubResource("CylinderMesh_6okml")
skeleton = NodePath("../..")

[node name="Bar2" type="MeshInstance3D" parent="GatePanel2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.242706, 0, 0)
mesh = SubResource("CylinderMesh_6okml")
skeleton = NodePath("../..")

[node name="Bar3" type="MeshInstance3D" parent="GatePanel2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.514255, 0, 0)
mesh = SubResource("CylinderMesh_6okml")
skeleton = NodePath("../..")

[node name="Bar4" type="MeshInstance3D" parent="GatePanel2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.756961, 0, 0)
mesh = SubResource("CylinderMesh_6okml")
skeleton = NodePath("../..")

[node name="Bar5" type="MeshInstance3D" parent="GatePanel2"]
transform = Transform3D(-4.37114e-08, -0.8, 0, 1, -3.49691e-08, 0, 0, 0, 1, 0.379009, 0.496263, 0)
mesh = SubResource("CylinderMesh_6okml")

[node name="Bar6" type="MeshInstance3D" parent="GatePanel2"]
transform = Transform3D(-4.37114e-08, -0.8, 0, 1, -3.49691e-08, 0, 0, 0, 1, 0.379009, -0.517872, 0)
mesh = SubResource("CylinderMesh_6okml")

[node name="InventoryItem" parent="." instance=ExtResource("6_hb4cl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.609959, -0.349034, 0.123054)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_6kh8m")
}

[node name="Shelf" parent="." instance=ExtResource("8_iqxt2")]
transform = Transform3D(0.0672491, 0, 0.997736, 0, 1, 0, -0.997736, 0, 0.0672491, -0.469573, -0.668717, 0)

[node name="Marble" parent="." instance=ExtResource("9_7nyy2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.466807, 0, 1.73109)

[editable path="GateDoor/ReceiverObject"]
[editable path="InventoryItem"]
[editable path="InventoryItem/StateManager"]
