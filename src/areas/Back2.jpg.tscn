[gd_scene load_steps=17 format=3 uid="uid://82klwlalqnpu"]

[ext_resource type="Script" path="res://src/teleportation/Panorama.gd" id="1_y8rwp"]
[ext_resource type="SphereMesh" uid="uid://ddca5no1ubgml" path="res://src/teleportation/PanoramaSphereMeshBase.tres" id="2_v810u"]
[ext_resource type="PackedScene" uid="uid://5iqynxjjb1jk" path="res://src/teleportation/Teleporter.tscn" id="3_m7bfe"]
[ext_resource type="Script" path="res://src/teleportation/Teleporter.gd" id="4_nxs0m"]
[ext_resource type="PackedScene" uid="uid://dkk6tk5kycbf" path="res://src/assets/B3/Easel_Normal.glb" id="5_3dyau"]
[ext_resource type="PackedScene" uid="uid://6cyd8lbfqd2p" path="res://src/assets/B MAIN/Bowl_PainterWater.glb" id="7_06841"]
[ext_resource type="Script" path="res://src/ems/eventsystem_new/EventControl.gd" id="7_edgk3"]
[ext_resource type="Script" path="res://src/ems/eventsystem_new/DialogueLookAtCanvasPainting.gd" id="8_3623x"]
[ext_resource type="Script" path="res://src/ems/eventsystem_new/ActionPaintOnCanvas.gd" id="9_cx4bb"]
[ext_resource type="PackedScene" uid="uid://da2qgxxwwitl6" path="res://addons/godot-xr-tools/objects/highlight/highlight_ring.tscn" id="11_t2opl"]
[ext_resource type="PackedScene" uid="uid://6yjpwjxyl30v" path="res://src/ois/paintbrush_wet_a.tscn" id="13_taacl"]
[ext_resource type="PackedScene" uid="uid://c3pkwiah1exl8" path="res://src/assets/A1/Table.tscn" id="14_gqfl1"]
[ext_resource type="PackedScene" uid="uid://c1nfdxx4l4avm" path="res://src/assets/marble_spirit_normal.tscn" id="14_x0mvl"]
[ext_resource type="PackedScene" uid="uid://dotnn7tssatd7" path="res://src/ois/canvas_paint_new.tscn" id="14_yn8da"]
[ext_resource type="PackedScene" uid="uid://ce7vysyvondf8" path="res://addons/godot-xr-tools/objects/snap_zone.tscn" id="15_ssb3x"]

[sub_resource type="SphereShape3D" id="SphereShape3D_n5phd"]
resource_local_to_scene = true
radius = 0.2

[node name="back2_jpg" type="Node3D"]
transform = Transform3D(-0.587778, 0, -0.809007, 0, 1, 0, 0.809007, 0, -0.587778, 0.000283733, -0.000304431, -3.05474e-05)
top_level = true
script = ExtResource("1_y8rwp")
teleporters_data = [{
"position": Vector3(-1.979, -2.563, 0.696),
"rotation": Vector3(-2.98023e-08, -1.89, 1.8351e-06),
"to": "Rights0.jpg"
}, {
"position": Vector3(2.574, -1.398, -0.581),
"rotation": Vector3(0, 1.29999, 1.47676e-06),
"to": "Back1.jpg"
}]
image_filename = "res://src/areas/Back2.jpg.jpg"

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0, 0, 0)
gi_mode = 0
mesh = ExtResource("2_v810u")
skeleton = NodePath("../../..")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
light_energy = 3.015
omni_range = 16.12

[node name="Teleporters" type="Node3D" parent="."]

[node name="Rights0_jpg" type="StaticBody3D" parent="Teleporters" instance=ExtResource("3_m7bfe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.979, -2.563, 0.696)
collision_layer = 5243392
collision_mask = 0
script = ExtResource("4_nxs0m")
to = "Rights0.jpg"

[node name="Back1_jpg" type="StaticBody3D" parent="Teleporters" instance=ExtResource("3_m7bfe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.574, -1.398, -0.581)
collision_layer = 5243392
collision_mask = 0
script = ExtResource("4_nxs0m")
to = "Back1.jpg"

[node name="Events" type="Node" parent="."]
script = ExtResource("7_edgk3")

[node name="DialogueLookAtCanvasPainting" type="Node" parent="Events" node_paths=PackedStringArray("event_audio_source")]
script = ExtResource("8_3623x")
event_audio_source = NodePath("../../MarbleSpirit_Normal/AudioStreamPlayer3D")

[node name="ActionPaintOnCanvas" type="Node" parent="Events"]
script = ExtResource("9_cx4bb")

[node name="Bowl_PainterWater" parent="." instance=ExtResource("7_06841")]
transform = Transform3D(-0.0563267, 0, -0.0826277, 0, 0.1, 0, 0.0826277, 0, -0.0563267, 0.689199, -0.45468, -0.53718)

[node name="Easel_Normal2" parent="." instance=ExtResource("5_3dyau")]
transform = Transform3D(0.0731141, 0, 0.0606575, 0, 0.095, 0, -0.0606575, 0, 0.0731141, -0.685413, -1.12875, -0.69614)

[node name="EaselSnapZone" parent="Easel_Normal2" instance=ExtResource("15_ssb3x")]
transform = Transform3D(10.5257, 0.0349762, -0.104533, 0, 9.98235, 3.34005, 0.110229, -3.33986, 9.9818, -0.056062, 8.1991, 1.85685)
grab_distance = 0.2
snap_mode = 1
snap_require = "canvas"
initial_object = NodePath("../../canvas_paint_new")

[node name="CollisionShape3D" parent="Easel_Normal2/EaselSnapZone" index="0"]
shape = SubResource("SphereShape3D_n5phd")

[node name="HighlightRing" parent="Easel_Normal2/EaselSnapZone" instance=ExtResource("11_t2opl")]

[node name="canvas_paint_new" parent="." groups=["canvas"] instance=ExtResource("14_yn8da")]
transform = Transform3D(0.878122, 0.472672, -0.0740873, 0.0316723, 0.0970813, 0.994773, 0.477395, -0.875877, 0.0702788, 0.244142, -0.301746, -0.802009)

[node name="paintbrush_wet" parent="." instance=ExtResource("13_taacl")]
transform = Transform3D(-0.563268, 0, -0.826279, 0, 1, 0, 0.826279, 0, -0.563268, 0.685112, -0.395099, -0.40129)

[node name="MarbleSpirit_Normal" parent="." instance=ExtResource("14_x0mvl")]
transform = Transform3D(-1.09278e-08, 0, 0.25, 0, 0.25, 0, -0.25, 0, -1.09278e-08, 1.30962, 0.258942, -1.09775)

[node name="VisibleOnScreenNotifier3D" type="VisibleOnScreenNotifier3D" parent="MarbleSpirit_Normal"]

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="MarbleSpirit_Normal"]
transform = Transform3D(2.00003, 0, 0, 0, 2, 0, 0, 0, 2.00003, 0, 0, 0)
volume_db = 7.619
autoplay = true

[node name="Timer" type="Timer" parent="MarbleSpirit_Normal"]
wait_time = 3.0

[node name="Table" parent="." instance=ExtResource("14_gqfl1")]
transform = Transform3D(-0.345349, 0, -0.48634, 0, 1, 0, 0.502826, 0, -0.334027, 0.18103, -1.31748, -0.885648)

[connection signal="has_picked_up" from="Easel_Normal2/EaselSnapZone" to="canvas_paint_new" method="_on_easel_snap_zone_has_picked_up"]
[connection signal="canvas_paint_complete" from="canvas_paint_new" to="Events/ActionPaintOnCanvas" method="_on_canvas_paint_new_canvas_paint_complete"]

[editable path="Easel_Normal2/EaselSnapZone"]
