[gd_scene load_steps=13 format=3 uid="uid://dxeebb6cl7moy"]

[ext_resource type="PackedScene" uid="uid://bu0yac1i41kpr" path="res://src/ois/pickable_template.tscn" id="1_rmflg"]
[ext_resource type="ArrayMesh" uid="uid://c03xphnqy1of6" path="res://src/assets/key.obj" id="2_50pi8"]
[ext_resource type="Material" uid="uid://ckle4fg44tl63" path="res://src/assets/Textures/TheKey.tres" id="3_4f06h"]
[ext_resource type="PackedScene" uid="uid://0datjcm1gsqv" path="res://src/inventory/inventory_item_comp.tscn" id="3_trxpv"]
[ext_resource type="PackedScene" uid="uid://ci2ih0equ4uoy" path="res://src/ois/state_managers/one_handed_tool.tscn" id="4_2xby8"]
[ext_resource type="Script" path="res://src/ois/state_managers/state_manager_settings.gd" id="5_erk7j"]
[ext_resource type="PackedScene" uid="uid://cydplmlegksbk" path="res://src/ois/states/interact_receiver.tscn" id="5_yxsrs"]
[ext_resource type="PackedScene" uid="uid://gs6cceyv2nc6" path="res://src/ois/states/control_raycast_visibility.tscn" id="6_1kv8b"]
[ext_resource type="PackedScene" uid="uid://yurhfdf4xm13" path="res://src/ois/states/snap_objects.tscn" id="7_ysbnh"]
[ext_resource type="Script" path="res://addons/godot-xr-tools/objects/interactable_body.gd" id="10_eyfr8"]

[sub_resource type="BoxShape3D" id="BoxShape3D_e2jdh"]
size = Vector3(0.217, 0.2, 0.2)

[sub_resource type="Resource" id="Resource_mth5j"]
script = ExtResource("5_erk7j")
state_behavior_settings = {
"ActiveCollidingState": {
"ControlRaycastVisibility": true,
"InteractReceiver": false,
"SnapObjects": false
},
"ActiveState": {
"ControlRaycastVisibility": false,
"InteractReceiver": false,
"SnapObjects": false
},
"IdleState": {
"ControlRaycastVisibility": false,
"InteractReceiver": false,
"SnapObjects": false
},
"InventoryState": {
"ControlRaycastVisibility": false,
"InteractReceiver": false,
"SnapObjects": false
},
"TriggerState": {
"ControlRaycastVisibility": false,
"InteractReceiver": true,
"SnapObjects": true
}
}
behavior_dict = {
"ControlRaycastVisibility": false,
"InteractReceiver": false,
"SnapObjects": false
}

[node name="TheKey" instance=ExtResource("1_rmflg")]
collision_layer = 5242884

[node name="CollisionShape3D" parent="." index="0"]
transform = Transform3D(-4.37114e-08, -1, 4.37114e-08, 0, -4.37114e-08, -1, 1, -4.37114e-08, 1.91069e-15, -5.09041e-10, -0.0512012, 0.056733)
shape = SubResource("BoxShape3D_e2jdh")

[node name="MainMesh" parent="." index="1"]
transform = Transform3D(-4.37114e-09, -0.1, 4.37114e-09, 0, -4.37114e-09, -0.1, 0.1, -4.37114e-09, 1.91069e-16, 0, -0.0512012, 0.0450875)
mesh = ExtResource("2_50pi8")
surface_material_override/0 = ExtResource("3_4f06h")

[node name="GrabPointHandLeft" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.00942338, 0)

[node name="GrabPointHandRight" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.00942338, 0)

[node name="InventoryItemComp" parent="." index="4" instance=ExtResource("3_trxpv")]

[node name="ReplacementMesh" parent="InventoryItemComp" index="0"]
visible = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="InventoryItemComp/ReplacementMesh" index="0"]
transform = Transform3D(0.0793109, -0.000105241, -0.0609079, -0.060908, -0.000137038, -0.0793108, 0, 0.0999999, -0.000172786, -0.00954871, 0.0088671, 0)
mesh = ExtResource("2_50pi8")
surface_material_override/0 = ExtResource("3_4f06h")

[node name="StateManager" parent="." index="5" instance=ExtResource("4_2xby8")]
receiver_group = "front_gate_key"
settings = SubResource("Resource_mth5j")

[node name="InteractReceiver" parent="StateManager" index="3" instance=ExtResource("5_yxsrs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0593167, 0)

[node name="ControlRaycastVisibility" parent="StateManager" index="4" instance=ExtResource("6_1kv8b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0600359, 0)

[node name="SnapObjects" parent="StateManager" index="5" instance=ExtResource("7_ysbnh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0600821, -0.0247183)

[node name="XRToolsInteractableBody" type="Node3D" parent="." index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0579044, 0)
script = ExtResource("10_eyfr8")

[editable path="InventoryItemComp"]
