[gd_scene load_steps=4 format=3 uid="uid://c3ri1hhv3wn15"]

[ext_resource type="Script" path="res://src/ems/authoring/ems_interface.gd" id="1_puduc"]
[ext_resource type="Script" path="res://src/ems/authoring/event_template.gd" id="2_klpca"]
[ext_resource type="PackedScene" uid="uid://dxea7t4cr8v2n" path="res://src/ems/authoring/event_template.tscn" id="3_ag86a"]

[node name="Control" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_puduc")

[node name="add_event_pop_up" type="ConfirmationDialog" parent="."]
title = "Add Event"
size = Vector2i(300, 365)
unresizable = true
content_scale_size = Vector2i(3, 3)
script = ExtResource("2_klpca")

[node name="add_event_pop_up_container" type="VBoxContainer" parent="add_event_pop_up"]
clip_contents = true
offset_left = 8.0
offset_top = 8.0
offset_right = 292.0
offset_bottom = 316.0

[node name="Label" type="Label" parent="add_event_pop_up/add_event_pop_up_container"]
layout_mode = 2
text = "Name"

[node name="TextEdit" type="TextEdit" parent="add_event_pop_up/add_event_pop_up_container"]
custom_minimum_size = Vector2(0, 50)
layout_mode = 2
text = "Text"
placeholder_text = "Insert Name Here
"

[node name="label_prerequisites" type="Label" parent="add_event_pop_up/add_event_pop_up_container"]
layout_mode = 2
text = "Prerequisites"

[node name="ScrollContainer" type="ScrollContainer" parent="add_event_pop_up/add_event_pop_up_container"]
custom_minimum_size = Vector2(100, 200)
layout_mode = 2

[node name="event_prerequisite_container" type="VBoxContainer" parent="add_event_pop_up/add_event_pop_up_container/ScrollContainer"]
clip_contents = true
custom_minimum_size = Vector2(180, 100)
layout_mode = 2

[node name="player_entered" type="CheckBox" parent="add_event_pop_up/add_event_pop_up_container/ScrollContainer/event_prerequisite_container"]
layout_mode = 2
text = "Player Entered the Scene"

[node name="player_looked_at" type="CheckBox" parent="add_event_pop_up/add_event_pop_up_container/ScrollContainer/event_prerequisite_container"]
layout_mode = 2
text = "Player Looked at Object"

[node name="control_panel" type="Panel" parent="."]
clip_contents = true
layout_mode = 0
offset_left = 29.0
offset_top = 29.0
offset_right = 1127.0
offset_bottom = 613.0

[node name="add_event" type="Button" parent="control_panel"]
layout_mode = 0
offset_left = 160.0
offset_top = 524.0
offset_right = 246.0
offset_bottom = 555.0
text = "Add Event"

[node name="scrollbar" type="ScrollContainer" parent="control_panel"]
layout_mode = 2
offset_left = 64.0
offset_top = 57.0
offset_right = 309.0
offset_bottom = 480.0

[node name="event_buttons_container" type="VBoxContainer" parent="control_panel/scrollbar"]
clip_contents = true
custom_minimum_size = Vector2(100, 100)
layout_direction = 2
layout_mode = 2
size_flags_horizontal = 3

[node name="Label" type="Label" parent="control_panel"]
layout_mode = 0
offset_left = 61.0
offset_top = 38.0
offset_right = 117.0
offset_bottom = 61.0
text = "Events:"

[node name="event_container" type="Node" parent="."]

[node name="player_entered" parent="event_container" instance=ExtResource("3_ag86a")]

[node name="player_looked_at" parent="event_container" instance=ExtResource("3_ag86a")]

[node name="event_editing_pop_up" type="ConfirmationDialog" parent="."]
title = "Edit Properties"
size = Vector2i(316, 346)

[node name="VBoxContainer" type="VBoxContainer" parent="event_editing_pop_up"]
custom_minimum_size = Vector2(300, 200)
offset_left = 8.0
offset_top = 8.0
offset_right = 308.0
offset_bottom = 297.0

[node name="label_prerequisites" type="Label" parent="event_editing_pop_up/VBoxContainer"]
layout_mode = 2
text = "Prerequisites"

[node name="ScrollContainer" type="ScrollContainer" parent="event_editing_pop_up/VBoxContainer"]
custom_minimum_size = Vector2(100, 200)
layout_mode = 2

[node name="event_prerequisite_container" type="VBoxContainer" parent="event_editing_pop_up/VBoxContainer/ScrollContainer"]
clip_contents = true
custom_minimum_size = Vector2(180, 100)
layout_mode = 2

[node name="player_entered" type="CheckBox" parent="event_editing_pop_up/VBoxContainer/ScrollContainer/event_prerequisite_container"]
layout_mode = 2
text = "Player Entered the Scene"

[node name="player_looked_at" type="CheckBox" parent="event_editing_pop_up/VBoxContainer/ScrollContainer/event_prerequisite_container"]
layout_mode = 2
text = "Player Looked at Object"

[node name="label_state" type="Label" parent="event_editing_pop_up/VBoxContainer"]
layout_mode = 2
text = "States
"

[node name="event_state_menu" type="OptionButton" parent="event_editing_pop_up/VBoxContainer"]
layout_mode = 2
item_count = 3
popup/item_0/text = "Initalized"
popup/item_0/id = 0
popup/item_1/text = "Ongoing"
popup/item_1/id = 1
popup/item_2/text = "Finished"
popup/item_2/id = 2

[connection signal="confirmed" from="add_event_pop_up" to="." method="_on_add_event_pop_up_confirmed"]
[connection signal="pressed" from="control_panel/add_event" to="." method="_on_add_event_pressed"]
[connection signal="about_to_popup" from="event_editing_pop_up" to="." method="_on_event_editing_pop_up_about_to_popup"]
[connection signal="confirmed" from="event_editing_pop_up" to="." method="_on_event_editing_pop_up_confirmed"]
